(this["webpackJsonpudemy-app"]=this["webpackJsonpudemy-app"]||[]).push([[0],{44:function(e,t,n){},45:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var c=n(5),s=n.n(c),i=n(35),r=n.n(i),a=(n(44),n(45),n(14)),o=n(0),l=n(8),j=n(9),b=n(10),u=n(22),h=function(e){var t=Object(u.b)((function(){return Object(j.a)({args:[20,1,10]},e)})),n=Object(b.a)(t,1)[0];return Object(l.jsxs)("mesh",Object(j.a)(Object(j.a)({ref:n},e),{},{receiveShadow:!0,children:[Object(l.jsx)("boxBufferGeometry",{args:[200,1,200]}),Object(l.jsx)("meshPhysicalMaterial",{transparent:!0,opacity:.2})]}))},d=function(e){var t=Object(c.useRef)(),n=Object(a.e)().scene;return Object(c.useEffect)((function(){n.lights?n.lights.push(t):n.lights=[t]}),[]),Object(l.jsxs)("mesh",Object(j.a)(Object(j.a)({},e),{},{children:[Object(l.jsx)("pointLight",{castShadow:!0,"shadow-mapSize-height":512,"shadow-mapSize-width":512,"shadow-radius":10}),Object(l.jsx)("sphereBufferGeometry",{args:[.2]}),Object(l.jsx)("meshPhongMaterial",{emissive:"white"})]}))},p=function(){var e=Object(a.e)().scene,t=(new o.CubeTextureLoader).load(["textures/cubemap/0/px.png","textures/cubemap/0/nx.png","textures/cubemap/0/py.png","textures/cubemap/0/ny.png","textures/cubemap/0/pz.png","textures/cubemap/0/nz.png"]);return e.background=t,null},O={activeMesh:{},activeMeshName:"Capot001_CAR_PAINT_0",cameraPos:new o.Vector3(9,2,4),target:new o.Vector3(4,0,0),shouldUpdate:!0},f=function(e){var t=function(e){O.activeMesh&&(O.activeMesh.material.color=new o.Color(e.target.style.background))};return Object(l.jsxs)("div",{style:{position:"absolute",zIndex:1,left:0,right:0,margin:"auto",width:"fit-content",display:"flex",top:"20px"},children:[Object(l.jsx)("div",{onClick:t,style:{background:"blue",height:50,width:50}}),Object(l.jsx)("div",{onClick:t,style:{background:"yellow",height:50,width:50}}),Object(l.jsx)("div",{onClick:t,style:{background:"white",height:50,width:50}})]})},g=n(38);Object(a.b)({OrbitControls:g.a});var x=function(){var e=Object(a.e)(),t=e.camera,n=e.gl;return Object(l.jsx)("orbitControls",{attach:"orbitControls",args:[t,n.domElement]})},m=n(39),v=function(e){var t,n=Object(a.d)(m.a,"/threejs-react-deploy"+e.path);return console.log(e.path,n),n.animations.length>0&&(t=new o.AnimationMixer(n.scene),n.animations.forEach((function(e){t.clipAction(e).play()}))),Object(a.c)((function(e,n){var c;null===(c=t)||void 0===c||c.update(n)})),n.scene.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0,e.material.side=o.FrontSide)})),console.log(n),Object(l.jsx)("primitive",Object(j.a)({object:n.scene,scale:e.scale},e))},w=n(40);Object(a.b)({DragControls:w.a});var y=function(e){var t=Object(c.useRef)(),n=Object(c.useRef)(),s=Object(c.useState)([]),i=Object(b.a)(s,2),r=i[0],o=i[1],j=Object(a.e)(),u=j.camera,h=j.gl,d=j.scene;return Object(c.useEffect)((function(){o(t.current.children)}),[]),Object(c.useEffect)((function(){n.current.addEventListener("hoveron",(function(e){return d.orbitControls.enabled=!1})),n.current.addEventListener("hoveroff",(function(e){return d.orbitControls.enabled=!0})),n.current.addEventListener("dragstart",(function(e){var t;null===(t=e.object.api)||void 0===t||t.mass.set(0)})),n.current.addEventListener("dragend",(function(e){var t;null===(t=e.object.api)||void 0===t||t.mass.set(1)})),n.current.addEventListener("drag",(function(e){var t,n;null===(t=e.object.api)||void 0===t||t.position.copy(e.object.position),null===(n=e.object.api)||void 0===n||n.velocity.set(0,0,0)}))}),[r,d.orbitControls]),Object(l.jsxs)("group",{ref:t,children:[Object(l.jsx)("dragControls",{transformGroup:e.transformGroup,ref:n,args:[r,u,h.domElement]}),e.children]})},C=function(e){var t=e.position,n=void 0===t?[0,0,0]:t,c=e.offset,s=void 0===c?[0,0,0]:c,i=e.dims,r=void 0===i?[1,1,1]:i,a=e.visible,o=void 0!==a&&a,j=e.children,h=Object(u.b)((function(){return{mass:1,args:r,position:n}})),d=Object(b.a)(h,2),p=d[0],O=d[1];return Object(l.jsxs)("group",{ref:p,api:O,children:[Object(l.jsxs)("mesh",{scale:r,visible:o,children:[Object(l.jsx)("boxGeometry",{}),Object(l.jsx)("meshPhysicalMaterial",{wireframe:!0})]}),Object(l.jsx)("group",{position:s,children:j})]})},k=function(){return Object(l.jsxs)(c.Suspense,{fallback:null,children:[Object(l.jsx)(y,{transformGroup:!0,children:Object(l.jsx)(C,{visible:!0,position:[4,4,0],dims:[3,2,6],offset:[0,-.4,.8],children:Object(l.jsx)(v,{path:"/tesla_model_3/scene.gltf",scale:new Array(3).fill(.01)})})}),Object(l.jsx)(y,{children:Object(l.jsx)(C,{visible:!0,position:[-4,4,0],dims:[3,2,7],offset:[0,-.8,.2],children:Object(l.jsx)(v,{path:"/tesla_model_s/scene.gltf",scale:new Array(3).fill(.013)})})}),Object(l.jsx)("group",{rotation:[0,Math.PI,0],children:Object(l.jsx)(v,{path:"/mech_drone/scene.gltf",scale:new Array(3).fill(.01)})})]})},M=n(23),S=function(e){return Object(M.a)(e),Object(a.c)((function(e){var t=e.camera,n=e.scene;(O.activeMesh.name!==O.activeMeshName&&(O.activeMesh=n.getObjectByName(O.activeMeshName)||{}),O.shouldUpdate)&&(t.position.lerp(O.cameraPos,.1),n.orbitControls.target.lerp(O.target,.1),n.orbitControls.update(),t.position.clone().sub(O.cameraPos).length()<.1&&(O.shouldUpdate=!1))})),null},P=n(15),E={zIndex:1,position:"absolute",bottom:"30vh",height:"30px",width:"30px",background:"white",textAlign:"center",borderRadius:"100%",fontSize:20,fontWeight:"bold",opacity:.7,border:"1px solid black",cursor:"pointer"},_=function(e){Object(M.a)(e);var t={1:{cameraPos:[9,2,4],target:[4,0,0],name:"Capot001_CAR_PAINT_0"},2:{cameraPos:[1,2,5],target:[-4,0,0],name:"object005_bod_0"}},n=function(e){var n,c;(n=O.cameraPos).set.apply(n,Object(P.a)(t[e].cameraPos)),(c=O.target).set.apply(c,Object(P.a)(t[e].target)),O.activeMeshName=t[e].name,O.shouldUpdate=!0,console.log("helo click fire")};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{onClick:function(e){return n(2)},style:Object(j.a)({left:"40vw"},E),children:"<"}),Object(l.jsx)("button",{onClick:function(e){return n(1)},style:Object(j.a)({right:"40vw"},E),children:">"})]})},L=function(e){return Object(M.a)(e),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("ambientLight",{intensity:.2}),Object(l.jsx)("directionalLight",{"shadow-mapSize-height":Math.pow(2,10),"shadow-mapSize-width":Math.pow(2,10),"shadow-radius":10,position:[6,3,0],intensity:2,castShadow:!0}),Object(l.jsx)(d,{position:[-6,3,0]}),Object(l.jsx)(d,{position:[0,3,0]}),Object(l.jsx)(d,{position:[6,3,0]})]})},A=n(34),z=function(){var e=Object(c.useState)(null),t=Object(b.a)(e,2),n=t[0],s=t[1],i=Object(a.e)().scene;return Object(c.useEffect)((function(){i.lights&&3===i.lights.length&&s(i.lights)}),[i.lights]),n?Object(l.jsx)(A.b,{children:Object(l.jsx)(A.a,{focusDistance:0,focalLength:.02,bokehScale:2,height:480})}):null};var F=function(){return Object(l.jsxs)("div",{style:{height:"100vh",width:"100vw"},children:[Object(l.jsx)(f,{}),Object(l.jsx)(_,{}),Object(l.jsxs)(a.a,{shadows:!0,style:{background:"black"},camera:{position:[7,7,7]},gl:{powerPreference:"high-performance",antialias:!1,stencil:!1,depth:!1},children:[Object(l.jsx)(L,{}),Object(l.jsx)(S,{}),Object(l.jsx)(x,{}),Object(l.jsx)("axesHelper",{args:[5]}),Object(l.jsx)(c.Suspense,{fallback:null,children:Object(l.jsx)(p,{})}),Object(l.jsxs)(u.a,{children:[Object(l.jsx)(k,{}),Object(l.jsx)(h,{position:[0,-.5,0]})]}),Object(l.jsx)(z,{})]})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),i(e),r(e)}))};r.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(F,{})}),document.getElementById("root")),I()}},[[50,1,2]]]);
//# sourceMappingURL=main.c303887b.chunk.js.map